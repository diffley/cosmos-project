# Air-gapped Environment Overrides - Managed by Ansible

# Container registries - internal infrastructure
OPENC3_REGISTRY={{ cosmos_airgap_registry | default('nexus.company.com') }}
OPENC3_NAMESPACE={{ cosmos_airgap_namespace | default('cosmos') }}
OPENC3_DEPENDENCY_REGISTRY={{ cosmos_airgap_registry | default('nexus.company.com') }}
OPENC3_ENTERPRISE_REGISTRY={{ cosmos_airgap_registry | default('nexus.company.com') }}
OPENC3_ENTERPRISE_NAMESPACE={{ cosmos_airgap_namespace | default('cosmos') }}

# Package repositories - internal mirrors
APK_URL={{ cosmos_airgap_apk_url | default('https://nexus.company.com/repository/alpine') }}
RUBYGEMS_URL={{ cosmos_airgap_rubygems_url | default('https://nexus.company.com/repository/rubygems') }}
PYPI_URL={{ cosmos_airgap_pypi_url | default('https://nexus.company.com/repository/pypi') }}
NPM_URL={{ cosmos_airgap_npm_url | default('https://nexus.company.com/repository/npm') }}

# Disable external certificate validation
PIP_ENABLE_TRUSTED_HOST=1

{% if cosmos_airgap_ca_bundle is defined %}
# Internal certificate bundle
SSL_CERT_FILE={{ cosmos_airgap_ca_bundle }}
CURL_CA_BUNDLE={{ cosmos_airgap_ca_bundle }}
REQUESTS_CA_BUNDLE={{ cosmos_airgap_ca_bundle }}
NODE_EXTRA_CA_CERTS={{ cosmos_airgap_ca_bundle }}
{% endif %}

{% if cosmos_airgap_disable_demo is defined and cosmos_airgap_disable_demo %}
# Disable demo for secure environments
# OPENC3_DEMO=1
{% endif %}