# COSMOS Environment Configuration - Generated by Ansible
# Generated on {{ ansible_date_time.iso8601 }}

# Which TAG to deploy, latest or specific version, e.g. 5.4.2
OPENC3_TAG={{ cosmos_tag | default('6.4.2') }}

# Comment this variable to disable local mode (don't set it to 0)
{% if cosmos_local_mode | default(false) %}
OPENC3_LOCAL_MODE=1
{% else %}
# OPENC3_LOCAL_MODE=1
{% endif %}

# Comment this variable to disable installing the Demo (don't set it to 0)
{% if cosmos_demo | default(false) %}
OPENC3_DEMO=1
{% else %}
# OPENC3_DEMO=1
{% endif %}

# Docker repo settings on where to get COSMOS containers
OPENC3_REGISTRY={{ cosmos_registry | default('docker.io') }}
OPENC3_NAMESPACE={{ cosmos_namespace | default('openc3inc') }}
OPENC3_DEPENDENCY_REGISTRY={{ cosmos_dependency_registry | default('docker.io') }}
OPENC3_ENTERPRISE_REGISTRY={{ cosmos_enterprise_registry | default('ghcr.io') }}
OPENC3_ENTERPRISE_NAMESPACE={{ cosmos_enterprise_namespace | default('openc3') }}
OPENC3_UBI_REGISTRY={{ cosmos_ubi_registry | default('registry1.dso.mil') }}
OPENC3_UBI_IMAGE={{ cosmos_ubi_image | default('ironbank/redhat/ubi/ubi9-minimal') }}

# Package repository settings (for air-gapped environments)
{% if cosmos_airgap_mode | default(false) %}
APK_URL={{ cosmos_apk_url | default('https://dl-cdn.alpinelinux.org') }}
RUBYGEMS_URL={{ cosmos_rubygems_url | default('https://rubygems.org') }}
PYPI_URL={{ cosmos_pypi_url | default('https://pypi.org') }}
NPM_URL={{ cosmos_npm_url | default('https://registry.npmjs.org') }}
{% endif %}

# Environment-specific settings
{% if cosmos_log_level is defined %}
OPENC3_LOG_LEVEL={{ cosmos_log_level }}
{% endif %}

{% if cosmos_hostname is defined %}
OPENC3_HOSTNAME={{ cosmos_hostname }}
{% endif %}

# Additional environment variables
{% for key, value in (cosmos_env_vars | default({})).items() %}
{{ key }}={{ value }}
{% endfor %}